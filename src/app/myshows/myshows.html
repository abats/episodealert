<as-userstats *ngIf="authService.isLoggedIn()"></as-userstats>

<div class="container myshows-filters">
    <div class="row profile-filters ng-scope">

        <div class="col-md-12 col-lg-12">

            <span class="hidden-xs myshows-filters-label">Filters </span>
            <input type="text" value="lol" [(ngModel)]="search" placeholder="Filter by name">
            <button class="ea-filter ea-filter--active" ng-class="{'ea-filter--active': seen}" ng-click="toggleUnseen()">
                <span ng-show="seen == true" class="fa fa-check ng-hide"></span>
                <!--<span ng-show="seen == false" class="fa fa-plus"></span>-->
                unseen
            </button>
            <button class="ea-filter ea-filter--active" ng-class="{'ea-filter--active': seen}" ng-click="toggleUnseen()">
                <span ng-show="seen == true" class="fa fa-check ng-hide"></span>
                <!--<span ng-show="seen == false" class="fa fa-plus"></span>-->
                currently airing
            </button>
            <button class="ea-filter ea-filter--active" ng-class="{'ea-filter--active': !ended}" ng-click="toggleEnded()">
                <!--<span ng-show="ended == true" class="fa fa-plus"></span>-->
                <span ng-show="ended == false" class="fa fa-check ng-hide"></span>
                continuing
            </button>
            <button class="ea-filter ea-filter--active" ng-class="{'ea-filter--active': archive}" ng-click="toggleArchiveSetting()">
                <span ng-show="archive == true" class="fa fa-check ng-hide"></span>
                <!--<span ng-show="archive == false" class="fa fa-plus"></span>-->
                archived
            </button>

            <span class="ea-filter-viewtoggle">
              <i class="fa fa-th-large" [hidden]="profileSeriesView =='poster'" aria-hidden="true" (click)="toggleSeriesView()"></i>
              <i class="fa fa-th-list" [hidden]="profileSeriesView =='list'" aria-hidden="true" (click)="toggleSeriesView()"></i>
            </span>

        </div>

    </div>
</div>

<div class="container myshows-shows">
    <div class="row">
        <!-- Trending Series -->
        <div class="col-md-12 col-lg-12 trending-background-color">

            <ul class="profile-series" *ngIf="profileSeries && profileSeriesView == 'poster'">
                <li class="series" *ngFor="let series of profileSeries | asSearchPipe : 'name' : search ">
                    <div class="series-img">
                        <a [routerLink]="['/series', series.unique_name]">
                            <img class="img-responsive"
                                 src="{{ series.poster_image | asUrlPipe : series.unique_name : 'medium'  }}"
                                 alt="{{ series.name }}"/>
                        </a>
                        <div class="badge">{{ series.unseen_episodes }}</div>
                    </div>
                    <div class="series-info">
                        <a [routerLink]="['/series', series.unique_name]">
                            <span class="title truncate" title="{{series.name}}">
                                {{ series.name }}
                            </span>
                        </a>
                    </div>
                </li>
            </ul>

            <table class="profile-series-list" *ngIf="profileSeries && profileSeriesView == 'list'">
                <tr>
                    <th (click)="setOrder('name')">
                        <as-orderdisplay activeOrder="{{order}}" order="name" orderReverse="{{orderReverse}}"></as-orderdisplay>
                        Show
                    </th>
                    <th (click)="setOrder('unseen_episodes')">
                        <as-orderdisplay activeOrder="{{order}}" order="unseen_episodes" orderReverse="{{orderReverse}}"></as-orderdisplay>
                        Unseen</th>
                    <th (click)="setOrder('season_amount')">
                        <as-orderdisplay activeOrder="{{order}}" order="season_amount" orderReverse="{{orderReverse}}"></as-orderdisplay>
                        Seasons
                    </th>
                    <th (click)="setOrder('status')">
                        <as-orderdisplay activeOrder="{{order}}" order="status" orderReverse="{{orderReverse}}"></as-orderdisplay>
                        Status</th>
                    <th (click)="setOrder('rating')">
                        <as-orderdisplay activeOrder="{{order}}" order="rating" orderReverse="{{orderReverse}}"></as-orderdisplay>
                        Rating</th>
                    <th (click)="setOrder('')">Next episode</th>
                    <th>Archive show</th>
                </tr>
                <tr class="series" *ngFor="let series of profileSeries | asSearchPipe : 'name' : search | asOrderBy: order : orderReverse">
                    <td>
                        <i class="fa fa-angle-right series-indicator" aria-hidden="true"></i>
                        <a [routerLink]="['/series', series.unique_name]">
                            <span class="title truncate" title="{{series.name}}">
                                {{ series.name }}
                            </span>
                        </a>
                    </td>
                    <td>{{ series.unseen_episodes }}</td>
                    <td>{{ series.season_amount }}</td>
                    <td>{{ series.status }}</td>
                    <td>{{ series.rating }}</td>
                    <td>todo: next episode</td>
                    <td>Archive</td>
                </tr>
            </table>
        </div>

    </div>
</div>