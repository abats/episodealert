// server.js

// BASE SETUP
// =============================================================================

// call the packages we need
var express    = require('express');        // call express
var app        = express();                 // define our app using express
var bodyParser = require('body-parser');
var cors = require('cors');

// configure app to use bodyParser()
// this will let us get the data from a POST
app.use(bodyParser.urlencoded({ extended: true }));
app.use(bodyParser.json());
app.use(cors());

var port = process.env.PORT || 3009;        // set our port

// ROUTES FOR OUR API
// =============================================================================
var router = express.Router();              // get an instance of the express Router

router.get('/series/trending', function(req, res) {
    res.json(seriesTrending);
});

router.get('/series/top', function(req, res) {
    res.json(seriesTop);
});

router.get('/auth/check', function(req, res){
    res.json(authCheck);
});

// Series Detail
router.get('/series/mr_robot', function(req, res) {
    res.json(mrRobotDetails);
});

// more routes for our API will happen here

// REGISTER OUR ROUTES -------------------------------
// all of our routes will be prefixed with /api
app.use('/api', router);

// START THE SERVER
// =============================================================================
app.listen(port);
console.log('Magic happens on port ' + port);


var seriesTrending = [{"id":"156422","unique_name":"mr_robot","name":"Mr. Robot","description":"The show follows Elliot, who is a cyber-security tech by day and vigilante hacker by night. He has used his hacking skills for justice and to protect those he cares about, but has problems connecting to people in the real world due to social anxiety. He strongly believes that the world is being ruled by the 1% of the 1% and, that using money and debt, they have enslaved mankind and he wishes desperately to change this. He is recruited by the head of a highly secret hacking group to take down the corporation he is being paid to protect with the hope of erasing 70% of all the debt in the world. He has had delusions in the past and sees a therapist who tries to help him and takes medication for it, but in the end he is unsure what is real and what is not, and so are we as we experience everything from his perspective.","firstaired":"2015-06-24","rating":"9.1","rating_updated":"0000-00-00 00:00:00","imdb_id":"tt4158110","poster_image":"mr_robot.jpg","poster_image_converted":true,"fanart_image":"mr_robot.jpg","fanart_image_converted":true,"banner_image":"mr_robot.jpg","banner_image_converted":true,"category":"|Crime|Drama|Thriller|","status":"Continuing","popular":false,"trend":"834","season_amount":"3","episode_amount":"22","has_specials":true,"specials_amount":"2","created_at":"2016-07-01 14:37:33","updated_at":"2016-07-01 14:37:33","series_id":"289590","user_id":"7878","sort":"1","archive":"0","last_notified":null,"following":0},{"id":"156266","unique_name":"game_of_thrones","name":"Game of Thrones","description":"Seven noble families fight for control of the mythical land of Westeros. Friction between the houses leads to full-scale war. All while a very ancient evil awakens in the farthest north. Amidst the war, a neglected military order of misfits, the Night's Watch, is all that stands between the realms of men and the icy horrors beyond.","firstaired":"2011-04-17","rating":"9.5","rating_updated":"0000-00-00 00:00:00","imdb_id":"tt0944947","poster_image":"game_of_thrones.jpg","poster_image_converted":true,"fanart_image":"game_of_thrones.jpg","fanart_image_converted":true,"banner_image":"game_of_thrones.jpg","banner_image_converted":true,"category":"|Adventure|Drama|Fantasy|","status":"Continuing","popular":false,"trend":"3044","season_amount":"7","episode_amount":"60","has_specials":true,"specials_amount":"21","created_at":"2016-06-29 20:52:19","updated_at":"2016-06-29 20:52:19","series_id":"121361","user_id":"7877","sort":"1","archive":"0","last_notified":null,"following":0},{"id":"156447","unique_name":"the_night_of_(2016)_1","name":"The Night Of","description":"Explore the dark corners of NYC's criminal-justice system as they swirl around a young Pakistani-American man who is accused of murder in this riveting eight-part miniseries. Starring John Turturro as an embattled defense attorney and Riz Ahmed as his client, the story centers on the killing and the investigation that targets the unassuming college kid as its prime suspect.","firstaired":"2016-07-10","rating":"9.3","rating_updated":"0000-00-00 00:00:00","imdb_id":"tt2401256","poster_image":"the_night_of_(2016)_1.jpg","poster_image_converted":true,"fanart_image":"the_night_of_(2016)_1.jpg","fanart_image_converted":true,"banner_image":"the_night_of_(2016)_1.jpg","banner_image_converted":true,"category":"|Drama|Mini-Series|","status":"Continuing","popular":false,"trend":"19","season_amount":"2","episode_amount":"8","has_specials":true,"specials_amount":"1","created_at":"2016-07-02 00:04:45","updated_at":"2016-07-02 00:04:45","series_id":"310516","user_id":"4597","sort":"1","archive":"0","last_notified":null,"following":0},{"id":"156328","unique_name":"house_of_cards_(2013)","name":"House of Cards (US)","description":"Ruthless and cunning, Congressman Francis Underwood and his wife Claire stop at nothing to conquer everything. This wicked political drama penetrates the shadowy world of greed, sex and corruption in modern D.C.","firstaired":"2013-02-01","rating":"9.0","rating_updated":"0000-00-00 00:00:00","imdb_id":"tt1856010","poster_image":"house_of_cards_(2013).jpg","poster_image_converted":true,"fanart_image":"house_of_cards_(2013).jpg","fanart_image_converted":true,"banner_image":"house_of_cards_(2013).jpg","banner_image_converted":true,"category":"|Drama|","status":"Continuing","popular":false,"trend":"1136","season_amount":"5","episode_amount":"53","has_specials":false,"specials_amount":"0","created_at":"2016-06-30 11:47:00","updated_at":"2016-06-30 11:47:00","series_id":"262980","user_id":"7880","sort":"1","archive":"0","last_notified":null,"following":0},{"id":"156741","unique_name":"the_walking_dead","name":"The Walking Dead","description":"The world we knew is gone. An epidemic of apocalyptic proportions has swept the globe causing the dead to rise and feed on the living. In a matter of months society has crumbled. In a world ruled by the dead, we are forced to finally start living. Based on a comic book series of the same name by Robert Kirkman, this AMC project focuses on the world after a zombie apocalypse. The series follows a police officer, Rick Grimes, who wakes up from a coma to find the world ravaged with zombies. Looking for his family, he and a group of survivors attempt to battle against the zombies in order to stay alive.\n","firstaired":"2010-10-31","rating":"9.0","rating_updated":"0000-00-00 00:00:00","imdb_id":"tt1520211","poster_image":"the_walking_dead.jpg","poster_image_converted":true,"fanart_image":"the_walking_dead.jpg","fanart_image_converted":true,"banner_image":"the_walking_dead.jpg","banner_image_converted":true,"category":"|Action|Drama|Horror|Suspense|","status":"Continuing","popular":true,"trend":"1962","season_amount":"8","episode_amount":"84","has_specials":true,"specials_amount":"36","created_at":"2016-07-04 07:54:56","updated_at":"2016-07-04 07:54:56","series_id":"153021","user_id":"7839","sort":"1","archive":"0","last_notified":null,"following":0}];
var seriesTop = [{"id":"257655","unique_name":"arrow","name":"Arrow","description":"Oliver Queen and his father are lost at sea when their luxury yacht sinks. His father doesn't survive. Oliver survives on an uncharted island for five years learning to fight, but also learning about his father's corruption and unscrupulous business dealings. He returns to civilization a changed man, determined to put things right. He disguises himself with the hood of one of his mysterious island mentors, arms himself with a bow and sets about hunting down the men and women who have corrupted his city.","firstaired":"2012-10-10","rating":"8.2","rating_updated":"0000-00-00 00:00:00","imdb_id":"tt2193021","poster_image":"arrow.jpg","poster_image_converted":true,"fanart_image":"arrow.jpg","fanart_image_converted":true,"banner_image":"arrow.jpg","banner_image_converted":true,"category":"|Action|Adventure|Drama|","status":"Continuing","popular":false,"trend":"1409","season_amount":"6","episode_amount":"93","has_specials":true,"specials_amount":"7","created_at":"2015-03-19 06:27:05","updated_at":"2016-07-13 20:20:37","series_id":"257655","count":"1409","following":1},{"id":"248742","unique_name":"person_of_interest","name":"Person of Interest","description":"John Reese, a presumed dead former CIA agent who is approached by a mysterious billionaire named Harold Finch to prevent violent crimes before they happen by using an advanced surveillance system dubbed \"The Machine\". Their unique brand of vigilante justice attracts the attention of two NYPD officers, Joss Carter and Lionel Fusco, whom Reese uses to his advantage as he investigates persons of interest. Reese and Finch are later aided by Samantha \"Root\" Groves , a highly intelligent computer hacker and contract killer who the Machine later identifies as its \"analog interface\" and Sameen Shaw, a former ISA assassin who unknowingly dealt with the \"relevant\" numbers found by the Machine.","firstaired":"2011-09-22","rating":"9.0","rating_updated":"0000-00-00 00:00:00","imdb_id":"tt1839578","poster_image":"person_of_interest.jpg","poster_image_converted":true,"fanart_image":"person_of_interest.jpg","fanart_image_converted":true,"banner_image":"person_of_interest.jpg","banner_image_converted":true,"category":"|Action|Adventure|Drama|Mystery|Thriller|","status":"Ended","popular":false,"trend":"665","season_amount":"5","episode_amount":"104","has_specials":false,"specials_amount":"0","created_at":"2015-03-19 05:13:19","updated_at":"2016-07-14 09:51:09","series_id":"248742","count":"665","following":1},{"id":"264492","unique_name":"under_the_dome","name":"Under the Dome","description":"An invisible and mysterious force field descends upon a small fictional town in the United States, trapping residents inside, cut off from the rest of civilization. The trapped townsfolk must discover the secrets and purpose of the \"dome\" and its origins, while coming to learn more than they ever knew about each other.","firstaired":"2013-06-24","rating":"7.8","rating_updated":"0000-00-00 00:00:00","imdb_id":"tt1553656","poster_image":"under_the_dome.jpg","poster_image_converted":true,"fanart_image":"under_the_dome.jpg","fanart_image_converted":true,"banner_image":"under_the_dome.jpg","banner_image_converted":true,"category":"|Drama|Horror|Mystery|Science-Fiction|","status":"Ended","popular":false,"trend":"542","season_amount":"4","episode_amount":"39","has_specials":true,"specials_amount":"1","created_at":"2015-03-09 22:56:27","updated_at":"2016-07-13 18:38:45","series_id":"264492","count":"542","following":1},{"id":"71663","unique_name":"the_simpsons","name":"The Simpsons","description":"Set in Springfield, the average American town, the show focuses on the antics and everyday adventures of the Simpson family; Homer, Marge, Bart, Lisa and Maggie, as well as a virtual cast of thousands. Since the beginning, the series has been a pop culture icon, attracting hundreds of celebrities to guest star. The show has also made name for itself in its fearless satirical take on politics, media and American life in general.","firstaired":"1989-12-17","rating":"8.9","rating_updated":"0000-00-00 00:00:00","imdb_id":"tt0096697","poster_image":"the_simpsons.jpg","poster_image_converted":true,"fanart_image":"the_simpsons.jpg","fanart_image_converted":true,"banner_image":"the_simpsons.jpg","banner_image_converted":true,"category":"|Animation|Comedy|Family|","status":"Continuing","popular":false,"trend":"521","season_amount":"29","episode_amount":"597","has_specials":true,"specials_amount":"61","created_at":"2015-03-19 05:01:01","updated_at":"2016-07-14 11:00:59","series_id":"71663","count":"521","following":1},{"id":"277165","unique_name":"silicon_valley_(2014)","name":"Silicon Valley","description":"In the high-tech gold rush of modern Silicon Valley, the people most qualified to succeed are the least capable of handling success. A comedy partially inspired by Mike Judge's own experiences as a Silicon Valley engineer in the late 1980s.","firstaired":"2014-04-06","rating":"8.7","rating_updated":"0000-00-00 00:00:00","imdb_id":"tt2575988","poster_image":"silicon_valley_(2014).jpg","poster_image_converted":true,"fanart_image":"silicon_valley_(2014).jpg","fanart_image_converted":true,"banner_image":"silicon_valley_(2014).jpg","banner_image_converted":true,"category":"|Comedy|","status":"Continuing","popular":false,"trend":"480","season_amount":"4","episode_amount":"28","has_specials":true,"specials_amount":"1","created_at":"2015-03-24 05:00:10","updated_at":"2016-07-14 00:12:54","series_id":"277165","count":"480","following":1}];
var authCheck = {"id":"2","accountname":"Arno Bats","thirdparty":true};


//Series
var mrRobotDetails = {"id":"289590","unique_name":"mr_robot","name":"Mr. Robot","description":"Elliot is a cyber-security tech by day and vigilante hacker by night. He has used his hacking skills for justice and to protect those he cares about, but has problems connecting to people in the real world due to social anxiety. He strongly believes that the world is being ruled by the 1% of the 1% and, that using money and debt, they have enslaved mankind and he wishes desperately to change this. He is recruited by the head of a highly secret hacking group to take down the corporation he is being paid to protect with the hope of erasing 70% of all the debt in the world. He has had delusions in the past and sees a therapist who tries to help him and takes medication for it, but in the end he is unsure what is real and what is not, and so are we as we experience everything from his perspective.","firstaired":"2015-06-24","rating":"9.1","rating_updated":"0000-00-00 00:00:00","imdb_id":"tt4158110","poster_image":"mr_robot.jpg","poster_image_converted":true,"fanart_image":"mr_robot.jpg","fanart_image_converted":true,"banner_image":"mr_robot.jpg","banner_image_converted":true,"category":"|Crime|Drama|Thriller|","status":"Continuing","popular":false,"trend":"987","season_amount":"3","episode_amount":"22","has_specials":true,"specials_amount":"3","created_at":"2015-03-19 05:59:55","updated_at":"2016-09-19 03:13:18","last_seen_season":1,"following":0};